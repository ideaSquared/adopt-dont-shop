# =============================================================================
# Adopt Don't Shop - Root Environment Configuration
# =============================================================================
# ⚠️ IMPORTANT SECURITY NOTES:
# - Copy this file to .env and fill in real values
# - NEVER commit .env to version control
# - Use strong, unique passwords for production
# - Consider using secrets management tools (AWS Secrets Manager, Vault, etc.)
# =============================================================================

# -----------------------------------------------------------------------------
# Environment
# -----------------------------------------------------------------------------
NODE_ENV=development

# -----------------------------------------------------------------------------
# Database Configuration (REQUIRED)
# -----------------------------------------------------------------------------
# ⚠️ CRITICAL: Change these values immediately!
# Development defaults are provided for convenience only
# Production MUST use strong, unique credentials

# PostgreSQL Database
POSTGRES_USER=adopt_user
POSTGRES_PASSWORD=CHANGE_THIS_SECURE_PASSWORD_IMMEDIATELY
POSTGRES_DB=adopt_dont_shop_dev

# Database Connection (Backend Service)
DB_HOST=database
DB_PORT=5432
DB_USERNAME=${POSTGRES_USER}
DB_PASSWORD=${POSTGRES_PASSWORD}
DEV_DB_NAME=${POSTGRES_DB}
TEST_DB_NAME=adopt_dont_shop_test
PROD_DB_NAME=adopt_dont_shop_prod

# Database Options
DB_LOGGING=false
DB_POOL_MAX=10
DB_POOL_MIN=2
DB_POOL_ACQUIRE=30000
DB_POOL_IDLE=10000

# -----------------------------------------------------------------------------
# Redis Configuration
# -----------------------------------------------------------------------------
REDIS_HOST=redis
REDIS_PORT=6379
# For production, set a strong password:
# REDIS_PASSWORD=CHANGE_THIS_SECURE_REDIS_PASSWORD

# -----------------------------------------------------------------------------
# Security & Authentication (REQUIRED FOR PRODUCTION)
# -----------------------------------------------------------------------------
# ⚠️ CRITICAL: Generate strong, random secrets for production!
# Use: openssl rand -base64 32

# JWT Secrets (MUST be changed for production)
JWT_SECRET=CHANGE_THIS_TO_A_STRONG_RANDOM_SECRET_32_CHARS_MIN
JWT_REFRESH_SECRET=CHANGE_THIS_TO_A_DIFFERENT_STRONG_RANDOM_SECRET
JWT_EXPIRES_IN=1h
JWT_REFRESH_EXPIRES_IN=7d

# Session Secret (MUST be changed for production)
SESSION_SECRET=CHANGE_THIS_TO_A_STRONG_RANDOM_SESSION_SECRET

# Encryption Key (for sensitive data at rest)
ENCRYPTION_KEY=CHANGE_THIS_TO_A_32_BYTE_HEX_STRING

# CSRF Token Secret
CSRF_SECRET=CHANGE_THIS_TO_A_STRONG_RANDOM_CSRF_SECRET

# -----------------------------------------------------------------------------
# Frontend API Configuration (Shared across all apps)
# -----------------------------------------------------------------------------
# These URLs are used by ALL frontend apps (admin, client, rescue)
# Change once, applies everywhere

# Development (direct backend access)
VITE_API_BASE_URL=http://localhost:5000
VITE_WS_BASE_URL=ws://localhost:5000

# Alternative: Nginx-proxied (uncomment to use subdomain routing)
# VITE_API_BASE_URL=http://api.localhost
# VITE_WS_BASE_URL=ws://api.localhost

# Production (update with your domain)
# VITE_API_BASE_URL=https://api.adoptdontshop.com
# VITE_WS_BASE_URL=wss://api.adoptdontshop.com

# -----------------------------------------------------------------------------
# CORS Configuration
# -----------------------------------------------------------------------------
# All origins that need API access (comma-separated, no spaces)
CORS_ORIGIN=http://localhost:3000,http://localhost:3001,http://localhost:3002,http://localhost,http://admin.localhost,http://rescue.localhost,http://api.localhost,http://localhost:5000

# Production CORS (update with your domains)
# CORS_ORIGIN=https://adoptdontshop.com,https://admin.adoptdontshop.com,https://rescue.adoptdontshop.com

# -----------------------------------------------------------------------------
# Email Configuration (REQUIRED FOR PRODUCTION)
# -----------------------------------------------------------------------------
# Email service provider (sendgrid, ses, smtp)
EMAIL_PROVIDER=console
EMAIL_FROM=noreply@adoptdontshop.com

# SMTP Configuration (if using SMTP)
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-smtp-username
SMTP_PASSWORD=CHANGE_THIS_SMTP_PASSWORD

# SendGrid (if using SendGrid)
SENDGRID_API_KEY=CHANGE_THIS_SENDGRID_API_KEY

# AWS SES (if using SES)
AWS_SES_ACCESS_KEY_ID=CHANGE_THIS_AWS_ACCESS_KEY
AWS_SES_SECRET_ACCESS_KEY=CHANGE_THIS_AWS_SECRET_KEY
AWS_SES_REGION=us-east-1

# -----------------------------------------------------------------------------
# File Storage Configuration
# -----------------------------------------------------------------------------
# Storage provider (local, s3, gcs)
STORAGE_PROVIDER=local
UPLOAD_DIR=./uploads
MAX_FILE_SIZE=10485760

# AWS S3 (if using S3)
AWS_S3_BUCKET=your-bucket-name
AWS_S3_REGION=us-east-1
AWS_S3_ACCESS_KEY_ID=CHANGE_THIS_AWS_ACCESS_KEY
AWS_S3_SECRET_ACCESS_KEY=CHANGE_THIS_AWS_SECRET_KEY

# -----------------------------------------------------------------------------
# Third-Party Services (Optional)
# -----------------------------------------------------------------------------
# Analytics
VITE_GOOGLE_ANALYTICS_ID=your-ga-tracking-id

# Error Tracking
SENTRY_DSN=your-sentry-dsn-url
VITE_SENTRY_DSN=your-sentry-dsn-url

# Maps
VITE_MAPBOX_API_KEY=your-mapbox-api-key

# Social Login (if implemented)
VITE_GOOGLE_CLIENT_ID=your-google-oauth-client-id
VITE_FACEBOOK_APP_ID=your-facebook-app-id

# Payment Processing (if implemented)
STRIPE_SECRET_KEY=CHANGE_THIS_STRIPE_SECRET_KEY
STRIPE_PUBLISHABLE_KEY=your-stripe-publishable-key
STRIPE_WEBHOOK_SECRET=CHANGE_THIS_STRIPE_WEBHOOK_SECRET

# -----------------------------------------------------------------------------
# Rate Limiting & Security
# -----------------------------------------------------------------------------
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false

# -----------------------------------------------------------------------------
# Performance Configuration
# -----------------------------------------------------------------------------
VITE_API_TIMEOUT=30000
VITE_MAX_FILE_SIZE=5242880
VITE_ALLOWED_FILE_TYPES=image/jpeg,image/png,image/webp

# Node.js memory limits (Docker)
NODE_OPTIONS=--max-old-space-size=2048

# -----------------------------------------------------------------------------
# Development Options
# -----------------------------------------------------------------------------
# Force database seeding on startup (development only)
FORCE_SEED=false

# Enable SQL query logging (development only)
DB_LOGGING=false

# Docker file watching (Windows/Mac)
CHOKIDAR_USEPOLLING=false
CHOKIDAR_INTERVAL=1000

# -----------------------------------------------------------------------------
# Production Checklist
# -----------------------------------------------------------------------------
# Before deploying to production, ensure you have:
# ✅ Changed ALL default passwords and secrets
# ✅ Generated strong JWT secrets (openssl rand -base64 32)
# ✅ Set appropriate CORS_ORIGIN for your domain
# ✅ Configured email service (SMTP/SendGrid/SES)
# ✅ Set up file storage (S3/GCS) if needed
# ✅ Enabled HTTPS for all frontend URLs
# ✅ Set NODE_ENV=production
# ✅ Reviewed and limited rate limiting settings
# ✅ Disabled debug logging (VITE_ENABLE_DEBUG_LOGGING=false)
# =============================================================================
